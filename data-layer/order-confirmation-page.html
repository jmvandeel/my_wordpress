<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js no-svg">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>VANDEEL.com - Data Layer - Order Confirmation</title>

<!-- Google Tag Manager Data Layer -->
<script type="text/javascript">
	var timestamp = Date.now(); console.log("transactionId: " + timestamp);
    var precision = 100; // 2 decimals
    var p1 = Math.floor(Math.random() * (10 * precision - 1 * precision) + 1 * precision) / (1*precision); console.log("p1: " + p1);
    var p2 = Math.floor(Math.random() * (10 * precision - 1 * precision) + 1 * precision) / (1*precision); console.log("p2: " + p2);
    var q1 = Math.floor(Math.random() * 9) + 1; console.log("q1: " + q1);
    var q2 = Math.floor(Math.random() * 9) + 1; console.log("q2: " + q2);
    var subtotal = (p1*q1)+(p2*q2); console.log("subtotal: " + subtotal);
    var tax = subtotal * 0.15; console.log("tax: " + tax);
    var total = subtotal + tax; console.log("total: " + total);
    
    var dataLayer = [{ 
        "pageTitle":"VANDEEL.com - Data Layer - Order Confirmation",
        "pageType":"order-confirmation",
    }];
    dataLayer.push({
    'ecommerce': {
        'purchase': {
        'actionField': {
            'id': timestamp,                        // Transaction ID. Required for purchases and refunds.
            'affiliation': 'vandeel.com',
            'revenue': total,                       // Total transaction value (incl. tax and shipping)
            'tax': tax,
            'shipping': '5.99',
            'coupon': 'SUMMER_SALE'
        },
        'products': [{                             // List of productFieldObjects.
            'name': 'productname-'+q1,              // Name or ID is required.
            'id': 'sku-'+q1,
            'price': p1,
            'brand': 'Google',
            'category': 'Apparel',
            'variant': 'Gray',
            'quantity': q1,
            'coupon': ''                            // Optional fields may be omitted or set to empty string.
        },
        {
            'name': 'productname-'+q2,
            'id': 'sku-'+q2,
            'price': p2,
            'brand': 'Google',
            'category': 'Apparel',
            'variant': 'Black',
            'quantity': q2,
            'coupon': '' 
        }]
        }
    },
    'event' : 'transaction'
    });
</script>
<!-- End Google Tag Manager Data Layer -->

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PL23PQJ');</script>
<!-- End Google Tag Manager -->
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PL23PQJ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <h1>Data Layer - Order Confirmation Page</h1>
    <p>With this page I want to test the Data Layer of Google Tag Manager.</p>

    <a class="button" href="/data-layer/homepage.html" onclick="dataLayer.push({'event': 'click', 'category': 'click', 'action': 'goto-homepage', 'label': 'goto-homepage', 'value': 'goto-homepage'});">Go To Homepage</a>

</body>
</html>